{% extends "core/base.html" %}
{% load static %}

{% block title %}Tabla de posiciones{% endblock %}

{% block content %}
<h2>Top 100 de Clientes</h2>

<p>
    A continuación podés ver el ranking de los 100 clientes con más puntos.
    Solo se muestran los últimos 4 dígitos del teléfono por privacidad.
</p>

{% if top_100 %}
    <table border="1" cellspacing="0" cellpadding="5">
        <thead>
            <tr>
                <th>Posición</th>
                <th>Teléfono</th>
                <th>Puntos</th>
            </tr>
        </thead>
        <tbody>
            {% for cliente in top_100 %}
                <tr {% if forloop.first %}style="font-weight:bold;"{% endif %}>
                    <td>{{ forloop.counter }}</td>
                    <td>
                        {% if cliente.telefono %}
                            ****{{ cliente.telefono|slice:"-4:" }}
                        {% else %}
                            Sin datos
                        {% endif %}
                    </td>
                    <td>{{ cliente.puntos }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No hay clientes registrados aún.</p>
{% endif %}

<hr>

{% endblock %}
